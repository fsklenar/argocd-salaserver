apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: httproute-argocd
  namespace: argocd
spec:
  hostnames:
    - argocd-salaserver.linuxadmin.eu
  parentRefs:
    - group: gateway.networking.k8s.io
      kind: Gateway
      name: cilium-gateway-https
      namespace: kube-system
  rules:
    - backendRefs:
      - group: ''
        name: argocd-server
        port: 80
        kind: Service
        weight: 1
      matches:
      - path:
          type: PathPrefix
          value: /

# apiVersion: gateway.networking.k8s.io/v1
# kind: HTTPRoute
# metadata:
#   name: httproute-webapp-dev
#   namespace: webapp-dev
# spec:
#   hostnames:
#     - webapp.linuxadmin.eu
#   parentRefs:
#     - group: gateway.networking.k8s.io
#       kind: Gateway
#       name: cilium-gateway-https
#       namespace: kube-system
#   rules:
#     - backendRefs:
#         - group: ''
#           kind: Service
#           name: webapp-dev-svc
#           port: 8090
#           weight: 1
#       matches:
#         - path:
#             type: PathPrefix
#             value: /
